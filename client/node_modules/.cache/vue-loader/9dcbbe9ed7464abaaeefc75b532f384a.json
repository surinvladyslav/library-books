{"remainingRequest":"/home/student/Desktop/library-books/client/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/home/student/Desktop/library-books/client/src/components/CreateBook.vue?vue&type=style&index=0&id=63a501b5&scoped=true&lang=css","dependencies":[{"path":"/home/student/Desktop/library-books/client/src/components/CreateBook.vue","mtime":1651159242000},{"path":"/home/student/Desktop/library-books/client/node_modules/css-loader/dist/cjs.js","mtime":1651159242000},{"path":"/home/student/Desktop/library-books/client/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js","mtime":1651159242000},{"path":"/home/student/Desktop/library-books/client/node_modules/postcss-loader/src/index.js","mtime":1651159242000},{"path":"/home/student/Desktop/library-books/client/node_modules/cache-loader/dist/cjs.js","mtime":1651159242000},{"path":"/home/student/Desktop/library-books/client/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js","mtime":1651159242000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ci5jcmVhdGVfX2Jvb2sgewogIGRpc3BsYXk6IGZsZXg7CiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjsKICBtYXJnaW46IDFyZW0gMDsKICBtYXJnaW4tdG9wOiAyLjZyZW07CiAgd2lkdGg6IDYwJTsKICBib3JkZXItcmFkaXVzOiAzcHg7CiAgYm9yZGVyOiAycHggc29saWQgIzI3YWU2MDsKICBwYWRkaW5nOiAxcmVtOwp9CgpAbWVkaWEgKG1heC13aWR0aDogMTAyNHB4KSB7CiAgLmNyZWF0ZV9fYm9vayB7CiAgICB3aWR0aDogMTAwJTsKICB9Cn0KCi5jcmVhdGVfX3RpdGxlIHsKICBtYXJnaW4tYm90dG9tOiAuMXJlbTsKfQoKLmlucHV0c19fd3JhcHBlciB7CiAgd2lkdGg6IDEwMCU7CiAgZGlzcGxheTogZmxleDsKfQoKLmlucHV0X193cmFwcGVyIHsKICBkaXNwbGF5OiBmbGV4OwogIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgbWFyZ2luOiAuMnJlbSAwOwogIHdpZHRoOiAxMDAlOwogIG1hcmdpbjogLjFyZW07Cn0KCmlucHV0LHRleHRhcmVhIHsKICBmb250LXNpemU6IDEzcHg7Cn0KCi5mb3JtLWxhYmVsIHsKICBmb250LXNpemU6IDEzcHg7CiAgbWFyZ2luOiAwOwogIHVzZXItc2VsZWN0OiBub25lOwogIG1hcmdpbi1sZWZ0OiAuMnJlbTsKfQoKLmltZ19fd3JhcHBlciB7CiAgd2lkdGg6IDEwMCU7CiAgZGlzcGxheTogZmxleDsKICBhbGlnbi1pdGVtczogZmxleC1zdGFydDsKICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47Cn0KCi5pbWcgewogIG1heC13aWR0aDogN3JlbTsKICBoZWlnaHQ6IGF1dG87Cn0KCi5jaGVja2JveCB7CiAgd2lkdGg6IDFyZW07CiAgaGVpZ2h0OiAxcmVtOwogIGN1cnNvcjogcG9pbnRlcjsKfQoKLmJ1dHRvbiB7CiAgbWFyZ2luLXRvcDogLjJyZW07Cn0K"},{"version":3,"sources":["/home/student/Desktop/library-books/client/src/components/CreateBook.vue"],"names":[],"mappings":"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","file":"/home/student/Desktop/library-books/client/src/components/CreateBook.vue","sourceRoot":"","sourcesContent":["<template>\n  <form class=\"create__book\" @submit.prevent=\"\" enctype=\"multipart/form-data\">\n    <h4 class=\"create__title\">Create Book</h4>\n    <div class=\"inputs__wrapper\">\n      <div class=\"input__wrapper\">\n       <input\n           class=\"form-control\"\n           type=\"text\"\n           v-model.trim=\"book.title\"\n           placeholder=\"Book title\"\n       >\n      </div>\n      <div class=\"input__wrapper\">\n       <input type=\"number\" v-model.trim=\"book.year\" class=\"form-control\" placeholder=\"Book year\">\n      </div>\n    </div>\n       <div class=\"inputs__wrapper\">\n         <div class=\"input__wrapper\">\n           <input type=\"text\" v-model.trim=\"book.author\" class=\"form-control\" placeholder=\"Book author\">\n         </div>\n         <div class=\"input__wrapper\">\n           <input type=\"number\" v-model.trim=\"book.pages\" class=\"form-control\" placeholder=\"Book pages\">\n         </div>\n       </div>\n       <div class=\"input__wrapper\">\n         <div v-if=\"!showImage\">\n           <input type=\"file\" class=\"form-control\" ref=\"file\" @change=\"onFileChange\">\n         </div>\n         <div class=\"img__wrapper\" v-else>\n           <img class=\"img\" :src=\"showImage\" />\n           <button class=\"button danger\" @click=\"removeImage\">remove</button>\n         </div>\n       </div>\n       <div class=\"input__wrapper\">\n         <textarea class=\"form-control\" v-model=\"book.text\" placeholder=\"Book description\" rows=\"3\"></textarea>\n       </div>\n       <div class=\"input__wrapper\">\n         <input class=\"checkbox\" v-model=\"book.have\" type=\"checkbox\" id=\"have\" checked>\n         <label class=\"form-label\" for=\"have\">Have a book</label>\n       </div>\n    <button class=\"button\" type=\"submit\" @click=\"create(this.book)\">Create</button>\n  </form>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport {mapActions, mapMutations} from \"vuex\";\nimport instance from \"@/api\";\n\nexport default {\n  name: \"CreateBook\",\n  data() {\n    return {\n      book: {\n        title: '',\n        pages: '',\n        text: '',\n        year: '',\n        author: '',\n        file: null,\n        have: true\n      },\n      showImage: null,\n    }\n  },\n  methods: {\n    ...mapMutations(['SET_LOADER']),\n    ...mapActions(['createBook']),\n    onFileChange(e) {\n      let files = e.target.files || e.dataTransfer.files;\n      if (!files.length) {\n        return;\n      }\n      this.book.file = files[0];\n      this.createImage(files[0], this.book);\n    },\n    async createImage(file, book) {\n      let reader = new FileReader();\n      reader.onload = (e) => {\n        this.showImage = e.target.result;\n      };\n      reader.readAsDataURL(file);\n\n      let formData = new FormData();\n      formData.append('file', file);\n      formData.append('title', this.book.title);\n      formData.append('year', this.book.year);\n      formData.append('author', this.book.author);\n      formData.append('pages', this.book.pages);\n      formData.append('text', this.book.text);\n\n      try {\n        await instance.post('/book', formData).then((res) => {\n          console.log(res.data);\n        });\n      } catch (err) {\n        console.log(err);\n      }\n    },\n    removeImage: function (e) {\n      this.showImage = null;\n      this.book.file = null;\n    },\n    async create(book) {\n      // if(this.$v.$invalid) {\n      //   this.$v.touch()\n      //   return\n      // }\n      console.log(book);\n      this.SET_LOADER(true)\n      await this.createBook(book)\n    },\n  }\n}\n</script>\n\n<style scoped>\n.create__book {\n  display: flex;\n  flex-direction: column;\n  margin: 1rem 0;\n  margin-top: 2.6rem;\n  width: 60%;\n  border-radius: 3px;\n  border: 2px solid #27ae60;\n  padding: 1rem;\n}\n\n@media (max-width: 1024px) {\n  .create__book {\n    width: 100%;\n  }\n}\n\n.create__title {\n  margin-bottom: .1rem;\n}\n\n.inputs__wrapper {\n  width: 100%;\n  display: flex;\n}\n\n.input__wrapper {\n  display: flex;\n  align-items: center;\n  margin: .2rem 0;\n  width: 100%;\n  margin: .1rem;\n}\n\ninput,textarea {\n  font-size: 13px;\n}\n\n.form-label {\n  font-size: 13px;\n  margin: 0;\n  user-select: none;\n  margin-left: .2rem;\n}\n\n.img__wrapper {\n  width: 100%;\n  display: flex;\n  align-items: flex-start;\n  justify-content: space-between;\n}\n\n.img {\n  max-width: 7rem;\n  height: auto;\n}\n\n.checkbox {\n  width: 1rem;\n  height: 1rem;\n  cursor: pointer;\n}\n\n.button {\n  margin-top: .2rem;\n}\n</style>"]}]}