{"remainingRequest":"/home/student/Desktop/library-books/client/node_modules/babel-loader/lib/index.js!/home/student/Desktop/library-books/client/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/student/Desktop/library-books/client/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/home/student/Desktop/library-books/client/src/components/DataTable.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/student/Desktop/library-books/client/src/components/DataTable.vue","mtime":1651159242000},{"path":"/home/student/Desktop/library-books/client/babel.config.js","mtime":1651159242000},{"path":"/home/student/Desktop/library-books/client/node_modules/cache-loader/dist/cjs.js","mtime":1651159242000},{"path":"/home/student/Desktop/library-books/client/node_modules/babel-loader/lib/index.js","mtime":1651159242000},{"path":"/home/student/Desktop/library-books/client/node_modules/cache-loader/dist/cjs.js","mtime":1651159242000},{"path":"/home/student/Desktop/library-books/client/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js","mtime":1651159242000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9ob21lL3N0dWRlbnQvRGVza3RvcC9saWJyYXJ5LWJvb2tzL2NsaWVudC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvci5qcyI7CmltcG9ydCBfb2JqZWN0U3ByZWFkIGZyb20gIi9ob21lL3N0dWRlbnQvRGVza3RvcC9saWJyYXJ5LWJvb2tzL2NsaWVudC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMi5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0IHsgbWFwQWN0aW9ucywgbWFwR2V0dGVycywgbWFwTXV0YXRpb25zIH0gZnJvbSAidnVleCI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiRGF0YVRhYmxlIiwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgY3VycmVudEJvb2tzOiBbXSwKICAgICAgY29sdW1uczogWydpZCcsICdpbWFnZScsICd0aXRsZScsICdhdXRob3InLCAneWVhcicsICdhY3Rpb24nLCAnaGF2ZScsICdjbGlja3MnXQogICAgfTsKICB9LAogIGNvbXB1dGVkOiBtYXBHZXR0ZXJzKFsnZ2V0Qm9va3MnLCAnZ2V0U2VhcmNoQm9va3MnXSksCiAgbWV0aG9kczogX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIG1hcEFjdGlvbnMoWydyZW1vdmVCb29rJywgJ2NoYW5nZUJvb2snXSkpLCBtYXBNdXRhdGlvbnMoWydTRVRfTE9BREVSJ10pKSwge30sIHsKICAgIHJlbW92ZTogZnVuY3Rpb24gcmVtb3ZlKGlkKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF90aGlzLlNFVF9MT0FERVIodHJ1ZSk7CgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDM7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMucmVtb3ZlQm9vayh7CiAgICAgICAgICAgICAgICAgIGlkOiBpZAogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBjaGFuZ2U6IGZ1bmN0aW9uIGNoYW5nZShpZCwgZGF0YSkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyLmNoYW5nZUJvb2soewogICAgICAgICAgICAgICAgICBpZDogaWQsCiAgICAgICAgICAgICAgICAgIGRhdGE6IGRhdGEKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIpOwogICAgICB9KSkoKTsKICAgIH0KICB9KSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgey8vIGNvbnNvbGUubG9nKHRoaXMuZ2V0Qm9va3MpOwogICAgLy8gZm9yIChsZXQgaSA9IDA7IGkgPCAxMDsgaSsrKSB7CiAgICAvLyAgIHRoaXMuY3VycmVudEJvb2tzLnB1c2godGhpcy5nZXRCb29rc1tpXSkKICAgIC8vIH0KICAgIC8vIGNvbnNvbGUubG9nKHRoaXMuY3VycmVudEJvb2tzKTsKICB9Cn07"},{"version":3,"mappings":";;;AA2EA,SAAQA,UAAR,EAAoBC,UAApB,EAAgCC,YAAhC,QAAmD,MAAnD;AAEA,eAAe;AACbC,MAAI,EAAE,WADO;AAEbC,MAFa,kBAEN;AACL,WAAO;AACLC,kBAAY,EAAE,EADT;AAELC,aAAO,EAAE,CAAC,IAAD,EAAM,OAAN,EAAc,OAAd,EAAsB,QAAtB,EAA+B,MAA/B,EAAsC,QAAtC,EAA+C,MAA/C,EAAuD,QAAvD;AAFJ,KAAP;AAID,GAPY;AAQbC,UAAQ,EAAEN,UAAU,CAAC,CAAC,UAAD,EAAa,gBAAb,CAAD,CARP;AASbO,SAAO,gDACFR,UAAU,CAAC,CAAC,YAAD,EAAe,YAAf,CAAD,CADR,GAEFE,YAAY,CAAC,CAAC,YAAD,CAAD,CAFV;AAGCO,UAHD,kBAGQC,EAHR,EAGY;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AACf,qBAAI,CAACC,UAAL,CAAgB,IAAhB;;AADe;AAAA,uBAET,KAAI,CAACC,UAAL,CAAgB;AAACF,oBAAE,EAAFA;AAAD,iBAAhB,CAFS;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGhB,KANI;AAOCG,UAPD,kBAOQH,EAPR,EAOYN,IAPZ,EAOkB;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACf,MAAI,CAACU,UAAL,CAAgB;AAACJ,oBAAE,EAAFA,EAAD;AAAKN,sBAAI,EAAJA;AAAL,iBAAhB,CADe;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEtB;AATI,IATM;AAoBbW,SApBa,qBAoBH,CACR;AACA;AACA;AACA;AACA;AACF;AA1Ba,CAAf","names":["mapActions","mapGetters","mapMutations","name","data","currentBooks","columns","computed","methods","remove","id","SET_LOADER","removeBook","change","changeBook","mounted"],"sourceRoot":"","sources":["/home/student/Desktop/library-books/client/src/components/DataTable.vue"],"sourcesContent":["<template>\n  <div class=\"table__wrapper\">\n    <p class=\"table__length\"><span>result</span>1-{{ currentBooks.length }} of {{ getBooks.length }}</p>\n<!--    {{currentBooks}}-->\n    <table>\n      <thead>\n        <tr>\n          <th v-for=\"th in columns\" :key=\"th\">{{ th }}</th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr\n          v-for=\"(td, index) in getBooks.reverse()\"\n          :class=\"this.getSearchBooks.includes(td) ? 'link show' : 'link hide'\"\n          :key=\"td\"\n        >\n          <td>{{ index+1 }}</td>\n          <td>\n            <img\n              class=\"img\"\n              v-if=\"td.image\"\n              :src=\"'http://localhost:5000/'+td.image\"\n            >\n            <img\n              class=\"img\"\n              v-else\n              src=\"../images/default-book.png\"\n            >\n          </td>\n          <td @dblclick=\"change(td._id,{title: 'fklsdjflksd'})\">\n            {{td.title}}\n          </td>\n          <td>{{ td.author || '-' }}</td>\n          <td>{{ td.year || '-' }}</td>\n          <!--        <td >-->\n          <!--          <input-->\n          <!--            class=\"table__input\"-->\n          <!--            type=\"number\"-->\n          <!--            :value=\"td.pages\"-->\n          <!--            @keyup.enter=\"change(td._id, {pages: td.pages})\"-->\n          <!--          />-->\n          <!--            {{ td.pages || '-' }}-->\n          <!--        </td>-->\n          <td\n            class=\"table__delete\"\n            @click=\"remove(td._id)\">\n            delete\n          </td>\n          <td @dblclick=\"change(td._id, {have: !td.have || false})\">\n            {{ td.have ? 'have a book' : 'no book'}}\n          </td>\n          <td>\n            {{ td.year || 0 }}\n          </td>\n        </tr>\n      </tbody>\n    </table>\n    <nav aria-label=\"Page navigation example\">\n      <ul class=\"pagination\">\n        <li class=\"page-item\"><a class=\"page-link\" href=\"!#\">Previous</a></li>\n        <li class=\"page-item\"><a class=\"page-link\" href=\"!#\">1</a></li>\n        <li class=\"page-item\"><a class=\"page-link\" href=\"!#\">2</a></li>\n        <li class=\"page-item\"><a class=\"page-link\" href=\"!#\">3</a></li>\n        <li class=\"page-item\"><a class=\"page-link\" href=\"!#\">Next</a></li>\n      </ul>\n    </nav>\n<!--    <ul>-->\n<!--      <li v-for=\"(g,ind) in 2\">-->\n<!--        <button>{{ ind+1 }}</button>-->\n<!--      </li>-->\n<!--    </ul>-->\n  </div>\n</template>\n\n<script>\nimport {mapActions, mapGetters, mapMutations} from \"vuex\";\n\nexport default {\n  name: \"DataTable\",\n  data() {\n    return {\n      currentBooks: [],\n      columns: ['id','image','title','author','year','action','have', 'clicks']\n    }\n  },\n  computed: mapGetters(['getBooks', 'getSearchBooks']),\n  methods: {\n    ...mapActions(['removeBook', 'changeBook']),\n    ...mapMutations(['SET_LOADER']),\n    async remove(id) {\n      this.SET_LOADER(true)\n      await this.removeBook({id})\n    },\n    async change(id, data) {\n      await this.changeBook({id, data})\n    },\n  },\n  mounted() {\n    // console.log(this.getBooks);\n    // for (let i = 0; i < 10; i++) {\n    //   this.currentBooks.push(this.getBooks[i])\n    // }\n    // console.log(this.currentBooks);\n  }\n}\n</script>\n\n<style scoped>\n  .table__wrapper {\n    display: flex;\n    flex-direction: column;\n  }\n\n  table {\n    width: 100%;\n    margin-bottom: 1rem;\n  }\n\n  th {\n    text-transform: uppercase;\n  }\n\n  .link {\n    -webkit-animation: slide 0.8s forwards;\n    -webkit-animation-delay: 2s;\n    animation: slide 0.8s forwards;\n    transition: .8s;\n    animation-delay: 2s;\n  }\n\n  .link.show {\n    opacity: 1;\n  }\n\n  .link.hide {\n    opacity: 0;\n    position: absolute;\n    left: -999px;\n  }\n\n\n  td,th {\n    font-size: 13px;\n    line-height: 13px;\n    text-align: center;\n    user-select: none;\n    cursor: pointer;\n    padding: 8px;\n    border: 2px solid #27ae60;\n  }\n\n  td img {\n    width: 50px;\n  }\n\n  .table__input {\n    width: 100%;\n    height: 100%;\n    padding: 6px;\n    border: none;\n    outline: none;\n    text-align: center;\n  }\n\n  .table__delete {\n    cursor: pointer;\n    background: none;\n    padding: 0;\n    text-decoration: underline;\n    color: #ae2727;\n  }\n\n  .table__delete:hover {\n    text-decoration: none;\n  }\n\n  .table__length {\n    margin-bottom: 5px;\n    width: max-content;\n    font-size: 16px;\n    margin-top: 1rem;\n  }\n\n  .table__length span {\n    color: #c1c7c6;\n    margin-right: .2rem;\n    text-transform: uppercase;\n    font-size: 16px;\n  }\n\n  ul {\n    display: flex;\n    list-style-type: none;\n    justify-content: flex-end;\n    box-sizing: border-box;\n    padding: 0;\n  }\n</style>"]}]}